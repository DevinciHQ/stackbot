<div *ngIf="data.length != 0">
    <table class="table">
        <thead>
        </thead>
        <tr [ngSwitch]="d">
            <p *ngSwitchCase="'init'">increment to start</p>
            <p *ngSwitchCase="0">0, increment again</p>
        </tr>
        <tr *ngFor="let item of data" class="{{item.type}}">
            <td [ngSwitch]="item.type" (click)="item.isEdit = true">
                <span *ngSwitchCase="'query'">
                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    <span *ngIf="!item.isEdit" id="query" (keydown.enter)="query.value = editedValue">{{item.query}}</span>
                    <span *ngFor="let tag of item.tags" class="tags">
                        <span *ngIf="!item.isEdit">#{{tag}}</span>
                        <span *ngIf="item.isEdit"><input type="text" [value]="tag" (keydown.enter)="updateTag(editTag.value)" #editTag></span>
                    </span>
                    <span *ngIf="item.isEdit"><input type="text" [value]="item.query" (keydown.enter)="item.query = editField.value; item.isEdit = false; updateValue(item.query, item.tags)" #editField /></span>
                </span>
                <span *ngSwitchCase="'day'" >{{item.name}}</span>
                <span *ngSwitchDefault>{{item.type}}</span>
            </td>
            <td [ngSwitch]="item.type">
                <span *ngSwitchCase="'query'">
                    <span class="time-of-day">
                        {{ formatTime(item.timestamp) }}
                    </span>
                </span>
                <span *ngSwitchCase="'day'" >
                    <span class="day-of-month">
                        {{formatDayOfMonth(item.timestamp)}}
                    </span>
                    <span class="month">
                       {{formatMonth(item.timestamp)}}
                    </span>
                </span>
            </td>
        </tr>
    </table>
    <div id="show-more">
        <button class="btn btn-secondary" (click)="getMoreData(cursor)" *ngIf="cursor">Show more</button>
    </div>
</div>
